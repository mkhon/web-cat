<webobject name="Page">
<wo:if condition="$forceNavigatorSelection">
<wo:WCPageModule title="Select Your Assignment">
<div class="floatRight"><wo name="Navigator"/></div>
<div style="width:50%;"><p>Please select the assignment to edit.</p></div>
</wo:WCPageModule></wo:if><wo:else>
<div class="module"><wo name="Navigator"/></div>
<wo:WCForm multipleSubmit="true">
<wo:WCPageModule title="Properties for All Instances of This Assignment">
<table class="layout">
<tr><td class="R"><label for="name">Name:</label></td>
    <td><webobject name="Name"/> <webobject name="NameInfo"/></td></tr>
<tr><td class="R"><label for="title">Title:</label></td>
    <td><webobject name="Description"/>
    <webobject name="DescriptionInfo"/></td></tr>
<tr><td class="R"><label for="URL">URL:</label></td>
    <td><webobject name="URL"/> <webobject name="URLInfo"/></td></TR>
<tr><td class="R" valign="top" style="padding-left: 0"><label for="instructions">Upload&nbsp;<br/>
    Instructions:</label></td>
    <td valign="top"><webobject name="UploadInstructions"/>
    <webobject name="UploadInstructionsInfo"/></td></tr>
<wo:if condition="$surveysSupported">
<tr><td class="R"><wo:label for="useSurvey">Survey:</wo:label></td>
    <td><wo:checkbox id="useSurvey" checked="$assignment.trackOpinions"/>
      <label for="useSurvey">Give student engagement/frustration
      survey</label></td></tr></wo:if>
</table>
<h3>Grading Scheme for All Instances</h3>
<p><label for="policy">Submission Rules:</label>
<wo:if condition="$submissionProfileDisplayGroup.displayedObjects.count">
<webobject name="SubmissionProfileList"/><webobject name="EditSubmissionProfile"/>&nbsp;<webobject name="NewSubmissionProfile"/>
</wo:if><wo:else>
&lt;none available&gt; Please create a policy: <webobject name="NewSubmissionProfile"/>
</wo:else>
<webobject name="SubmissionProfileInfo"/></p>
<p>Automatically grade using <b>these steps</b> in sequence:</p>
<wo:WCContentPane id="gradingSteps">
<wo name="GradingStepsTable"><thead>
    <tr>
      <th>&nbsp;</th><th>Plug-in</th><th class="sm">Time Limit (sec)</th>
      <th>Action</th>
    </tr>
</thead><tbody>
    <wo name="StepRepetition"><wo name="TR">
        <td align="center"><wo name="DragHandle"/></td>
        <td><webobject name="ScriptName"/></td>
        <td align="center"><webobject name="StepAllowsTimeout"><webobject name="Timeout"/></webobject></td>
        <td><webobject name="EditStep"/> <wo name="RemoveStep"><wo name="RemoveStepImage"/></wo><wo name="RemoveStepFunction"/></td>
    </wo></wo>
    <wo name="LastTR">
        <td colspan="4">
            <label for="plugins">Add a step:</label>
            <wo:if condition="$gradingPluginsToAdd.count">
            <wo name="GradingPluginsToAdd"/>
            <webobject name="AddStep">
                <script type="dojo/connect" event="onClick" args="evt">
                    webcat.block('gradingStepsTable');
                </script>
            </webobject>
            </wo:if><wo:else>&lt;no plug-ins available&gt;</wo:else>
        </td>
    </wo></tbody>
</wo>
</wo:WCContentPane>
</wo:WCPageModule>

<wo:loop list="$offeringGroup.displayedObjects" item="$thisOffering">
<wo name="CourseOfferingSection">
<table class="layout" style="margin: 0;">
<wo name="CanDelete">
<tr><td class="R"><wo:WCButton action="$delete" label="Delete" class="neg" remote="true"/></td>
    <td>You may delete this assignment offering.   It cannot be deleted once
    students (not staff) begin making submissions.</td></tr>
</wo>
<tr><td class="R" valign="top">Due:</td>
    <td>
    <wo name="DueDate2"/></td></tr>
<tr><td class="R">Score Summary:</td><td><table class="layout" style="margin: 0;"><tr>
    <td style="padding: 0 0.6em 0 0;"><wo:WCContentSpan id="~'scoreHistogram' + thisOffering.id"><wo name="Graph"/></wo></td>
    <td style="padding: 0 0 0 0.6em;"><wo name="ClearGraph"/></td></tr></table></td></tr>
<tr><td class="R">Publish it:</td>
    <td><webobject name="PublishIt"/>
    <webobject name="PublishItInfo"/>&nbsp;&nbsp;&nbsp;&nbsp;
    <wo:if condition="$thisOffering.gradingSuspended">
      <span class="warn">All grading is suspended</span>
      <wo:WCButton action="$resumeGrading" style="margin-top:0;">Resume Grading</wo:WCButton>
      <webobject name="SuspendInfo"/>
    </wo:if>
    <wo:else>
      <span class="check">Grading is enabled</span>
      <wo:WCButton action="$suspendGrading" style="margin-top:0;">Suspend All Grading</wo:WCButton>
      <webobject name="SuspendInfo"/>
    </wo:else>
    </td></tr>
<webobject name="HasSuspendedSubs">
<tr><td></td><td>
<table class="layout">
<tr><td colspan="3" style="color:red">
&nbsp;<b><webobject name="NumSuspended"/> submissions</b> currently
suspended&nbsp;</td></tr>
<tr><td align="left"><webobject name="ReleaseSubs"/></td>
<td align="center">&nbsp;or&nbsp;</td>
<td align="right"><webobject name="CancelSubs"/></td></tr></table>
</td></tr>
</webobject>
<tr><td>&nbsp;</td><td><wo:WCButton action="$regradeSubs"
  alt="Regrade everyone's most recent submission">Regrade Everyone</wo:WCButton>
</td></tr>
</table>
</wo>
</wo:loop>

<wo:WCPageModule title="Other Upcoming Assignment Deadlines" open="false">
<table><thead>
<tr><th>Assignment</th><th>Due</th></tr></thead><tbody>
<webobject name="UpcomingAssignmentRepetition">
<webobject name="TR2"><td><wo:if condition="$upcomingOffering.assignment.url"><webobject name="UpcomingAssignmentName"/></wo:if><wo:else><wo:str value="$upcomingOffering.titleString"/></wo:else><webobject name="UpcomingIsUnpublished">
<span style="background-color:yellow">(unpublished)</span></webobject></td>
<td class="nowrap"><webobject name="UpcomingDueDate"/></td>
</webobject></webobject></tbody></table>
</wo:WCPageModule>

<div class="module right">
<wo:WCButton action="$apply" class="pos" label="Save All"/>
<wo:WCButton action="$cancel" class="neg" label="Cancel"/>
</div>
</wo:WCForm>
</wo:else>
</webobject>
