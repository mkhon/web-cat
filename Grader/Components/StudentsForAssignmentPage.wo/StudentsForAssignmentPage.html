<wo:WCPageWithNavigation><wo:if condition="$forceNavigatorSelection">
<wo:org.webcat.core.WCPageModule title="Pick the Course and Assignment">
<div class="floatRight"><wo name="Navigator"/></div>
<div style="width:50%;"><p>Please select the course and assignment.</p></div>
</wo:org.webcat.core.WCPageModule></wo:if><wo:else>
<div class="module" style="text-align: right">
<wo name="DownloadScoresDialog"/>
<wo name="DownloadScores">
    <script type="dojo/connect" event="onClick">
        dijit.byId('downloadScoresDialog').show();
    </script>
</wo>
<wo name="Navigator"/>
</div>

<wo:loop list="$offerings.displayedObjects" item="$assignmentOffering">
<wo:org.webcat.core.WCPageModule title="~ 'Submissions for ' + assignmentOffering.titleString"
    open="$assignmentOffering.generateKey.user.preferences.StudentsForAssignmentPage_open">

<wo:if condition="$userGroup.displayedObjects.count">
    <p><b>Score Summary:</b>
    High:   <span class="hl"><wo name="HighScore"/></span>
    Mean:   <span class="hl"><wo name="MeanScore"/></span>
    Median: <span class="hl"><wo name="MedianScore"/></span>
    Low:    <span class="hl"><wo name="LowScore"/></span>
    Box plot: <wo name="BoxAndWhiskerChart"/>
    </p><wo:WCForm multipleSubmit="true">
    <table><thead>
    <tr class="batchnav"><td colspan="7"><wo name="BatchNavigator"/></td>
        <wo name="UsesToolCheckScore"><td></td></wo>
        <wo name="UsesBonusesOrPenalties"><td></td></wo>
    </tr>
    <tr><th class="sm">Done?<wo name="SortOrderStatus"/></th>
        <th>Name<wo name="SortOrderUserNameLF"/></th>
        <th class="sm">Sub No.</th>
        <th>Time<wo name="SortOrderSubmitTime"/></th>
        <th class="sm">Testing</th>
        <wo name="UsesToolCheckScore"><th class="sm">Tool Checks</th></wo>
        <th>TA</th>
        <wo name="UsesBonusesOrPenalties"><th class="sm">Early/Late</th></wo>
        <th class="sm">Score<wo name="SortOrderFinalScore"/></th>
    </tr></thead><tbody>
    <wo name="Repetition1"><wo name="TR">
        <wo:if condition="$aUserSubmission.userHasSubmission">
            <td><wo:if condition="~aSubmission.result.status == @org.webcat.core.Status@TO_DO"><wo name="StatusToDo"/></wo:if><wo:else><wo:if condition="~aSubmission.result.status == @org.webcat.core.Status@UNFINISHED"><wo name="StatusUnfinished"/></wo:if><wo:else><wo:if condition="~aSubmission.result.status == @org.webcat.core.Status@CHECK"><wo name="StatusDone"/></wo:if><wo:else><webobject name="Status"/></wo:else></wo:else></wo:else></td>
            <td><wo:str value="$aSubmission.namesOfAllUsers_LF"/></td>
            <td class="n"><wo name="SubmitNumber"/><wo name="NotMostRecent">
            (of <wo name="MostRecentSubmitNumber"/>)</wo></td>
            <td class="sm"><wo name="SubmitTimeSpan"><wo name="SubmitTime"/></wo></td>
            <td class="n"><wo name="TestingScore"/></td>
            <wo name="UsesToolCheckScore"><td class="n"><wo name="ToolScore"/></td></wo>
            <td class="n"><wo name="EditScore"><wo name="HasTAScore"><wo name="TAScore"/></wo><wo name="NoTAScore">&lt;edit&gt;</wo></wo></td>
            <wo name="UsesBonusesOrPenalties"><td class="n"><wo name="ScoreAdjustment"/></td></wo>
            <td class="n"><wo name="FinalScore"/></td>
        </wo:if><wo:else>
            <td><wo name="StatusBlank"/></td>
            <td><wo:str value="$aUserSubmission.user.name_LF"/></td>
            <wo name="NoSubmissionsPlaceholder">No submissions</wo>
        </wo:else>
    </wo></wo>
    </tbody></table>
    <wo name="MarkAsComplete"/></wo:WCForm>
</wo:if><wo:else>
    <p>No submissions matching your criteria have been found.</p>
</wo:else>

</wo:org.webcat.core.WCPageModule>
</wo:loop>

<wo:if condition="$staffSubmissionGroup.allObjects.count">
<wo:org.webcat.core.WCPageModule title="Staff Submissions">

    <table><thead>
    <tr class="batchnav"><td colspan="7"><wo name="BatchNavigatorStaff"/></td>
        <wo name="UsesToolCheckScore"><td></td></wo>
        <wo name="UsesBonusesOrPenalties"><td></td></wo>
    </tr>
    <tr><th class="sm">Done?<wo name="SortOrderStaffStatus"/></th>
        <th>Name<wo name="SortOrderStaffUserNameLF"/></th>
        <th class="sm">Sub No.</th>
        <th>Time<wo name="SortOrderStaffSubmitTime"/></th>
        <th class="sm">Testing</th>
        <wo name="UsesToolCheckScore"><th class="sm">Tool Checks</th></wo>
        <th>TA</th>
        <wo name="UsesBonusesOrPenalties"><th class="sm">Early/Late</th></wo>
        <th class="sm">Score<wo name="SortOrderStaffFinalScore"/></th>
    </tr></thead><tbody>
    <wo name="Repetition2"><wo name="TR2">
        <td><wo:if condition="~aSubmission.result.status == @org.webcat.core.Status@TO_DO"><wo name="StatusToDo"/></wo:if><wo:else><wo:if condition="~aSubmission.result.status == @org.webcat.core.Status@UNFINISHED"><wo name="StatusUnfinished"/></wo:if><wo:else><wo:if condition="~aSubmission.result.status == @org.webcat.core.Status@CHECK"><wo name="StatusDone"/></wo:if><wo:else><webobject name="Status"/></wo:else></wo:else></wo:else></td>
        <td><wo:str value="$aSubmission.namesOfAllUsers"/></td>
        <td class="n"><wo name="SubmitNumber"/><wo name="NotMostRecent">
        (of <wo name="MostRecentSubmitNumber"/>)</wo></td>
        <td class="sm"><wo name="SubmitTime"/></td>
        <td class="n"><wo name="TestingScore"/></td>
        <wo name="UsesToolCheckScore"><td class="n"><wo name="ToolScore"/></td></wo>
        <td class="n"><wo name="EditScore"><wo name="HasTAScore"><wo name="TAScore"/></wo><wo name="NoTAScore">&lt;edit&gt;</wo></wo></td>
        <wo name="UsesBonusesOrPenalties"><td class="n"><wo name="ScoreAdjustment"/></td></wo>
        <td class="n"><wo name="FinalScore"/></td>
    </wo></wo>
    </tbody></table>

</wo:org.webcat.core.WCPageModule>
</wo:if>

<wo:if condition="$user.hasAdminPrivileges">
<wo:org.webcat.core.WCPageModule title="Text/HTML Comments" open="false">

  <wo:link action="$repartner">Recalculate partner assignment offerings</wo:link>
  <table><thead>
    <tr><th>Have Text Comments</th></tr>
  </thead><tbody>
  </tbody></table>

  <table><thead>
    <tr><th>Have HTML Comments</th></tr>
  </thead><tbody>
  </tbody></table>

</wo:org.webcat.core.WCPageModule>
</wo:if>

</wo:else></wo:WCPageWithNavigation>
