/*
 * Ext - JS Library 1.0 Alpha 3 - Rev 4
 * Copyright(c) 2006-2007, Jack Slocum.
 * 
 * http://www.extjs.com/license.txt
 */

Ext.QuickTips=function(){var el,_2,_3,tm,_5,_6,_7={},_8,_9=null;var ce,bd,xy,dd;var _e=false,_f=true,_10=false;var _11=1,_12=1,_13=1,_14=[];var _15=function(e){if(_f){return;}var t=e.getTarget();if(!t||t.nodeType!==1||t==document||t==document.body){return;}if(ce&&t==ce.el){clearTimeout(_12);return;}if(t&&_7[t.id]){_7[t.id].el=t;_11=_18.defer(tm.showDelay,tm,[_7[t.id]]);return;}var ttp,et=Ext.fly(t);var ns=_5.namespace;if(tm.interceptTitles&&t.title){ttp=t.title;t.qtip=ttp;t.removeAttribute("title");e.preventDefault();}else{ttp=t.qtip||et.getAttributeNS(ns,_5.attribute);}if(ttp){_11=_18.defer(tm.showDelay,tm,[{el:t,text:ttp,width:et.getAttributeNS(ns,_5.width),autoHide:et.getAttributeNS(ns,_5.hide)!="user",title:et.getAttributeNS(ns,_5.title),cls:et.getAttributeNS(ns,_5.cls)}]);}};var _1c=function(e){clearTimeout(_11);var t=e.getTarget();if(t&&ce&&ce.el==t&&(tm.autoHide&&ce.autoHide!==false)){_12=setTimeout(_1f,tm.hideDelay);}};var _20=function(e){if(_f){return;}xy=e.getXY();xy[1]+=18;if(tm.trackMouse&&ce){el.setXY(xy);}};var _22=function(e){clearTimeout(_11);clearTimeout(_12);if(!e.within(el)){if(tm.hideOnClick&&ce&&ce.autoHide!==false){_1f();tm.disable();}}};var _24=function(e){tm.enable();};var _18=function(o){if(_f){return;}clearTimeout(_13);ce=o;if(_9){el.removeClass(_9);_9=null;}if(ce.cls){el.addClass(ce.cls);_9=ce.cls;}if(ce.title){tipTitleText.update(ce.title);_3.show();}else{_3.hide();}_2.update(o.text);if(!ce.width){if(_2.dom.style.width){_2.dom.style.width="";}if(_2.dom.offsetWidth>tm.maxWidth){_2.setWidth(tm.maxWidth);}if(_2.dom.offsetWidth<tm.minWidth){_2.setWidth(tm.minWidth);}}else{_2.setWidth(ce.width);}if(!ce.autoHide){_6.setDisplayed(true);if(dd){dd.unlock();}}else{_6.setDisplayed(false);if(dd){dd.lock();}}if(xy){el.setXY(xy);}if(tm.animate){el.setOpacity(0.1);el.setStyle("visibility","visible");el.fadeIn({callback:_27});}else{_27();}};var _27=function(){if(ce){el.show();_8.enable();if(tm.autoDismiss&&ce.autoHide!==false){_13=setTimeout(_1f,tm.autoDismissDelay);}}};var _1f=function(_28){clearTimeout(_13);clearTimeout(_12);ce=null;if(el.isVisible()){_8.disable();if(_28!==true&&tm.animate){el.fadeOut({callback:_29});}else{_29();}}};var _29=function(){el.hide();if(_9){el.removeClass(_9);_9=null;}};return {init:function(){tm=Ext.QuickTips;_5=tm.tagConfig;if(!_10){el=new Ext.Layer({cls:"x-tip",shadow:"sides",shim:true,constrain:true});el.fxDefaults={stopFx:true};el.update("<div class=\"x-tip-hd-left\"><div class=\"x-tip-hd-right\"><div class=\"x-tip-hd\"></div></div></div>");_3=Ext.get(el.dom.firstChild);tipTitleText=Ext.get(el.dom.firstChild.firstChild.firstChild);_3.enableDisplayMode("block");_2=el.createChild({tag:"div",cls:"x-tip-bd"});_6=el.createChild({tag:"div",cls:"x-tip-close"});_6.on("click",_1f);d=Ext.get(document);d.on("mousedown",_22);d.on("mouseup",_24);d.on("mouseover",_15);d.on("mouseout",_1c);d.on("mousemove",_20);_8=d.addKeyListener(27,_1f);_8.disable();if(Ext.dd.DD){dd=el.initDD("default",null,{onDrag:function(){el.sync();}});dd.setHandleElId(tipTitleText.id);dd.lock();}_10=true;}this.enable();},tips:function(_2a){var cs=_2a instanceof Array?_2a:arguments;for(var i=0,len=cs.length;i<len;i++){var c=cs[i];var _2f=c.target;if(_2f){if(_2f instanceof Array){for(var j=0,_31=_2f.length;j<_31;j++){_7[_2f[j]]=c;}}else{_7[_2f]=c;}}}},enable:function(){if(_10){_14.pop();if(_14.length<1){_f=false;}}},disable:function(){_f=true;clearTimeout(_11);clearTimeout(_12);clearTimeout(_13);if(ce){_1f(true);}_14.push(1);},isEnabled:function(){return !_f;},tagConfig:{namespace:"ext",attribute:"qtip",width:"width",target:"target",title:"qtitle",hide:"hide",cls:"qclass"},minWidth:75,maxWidth:300,interceptTitles:true,trackMouse:false,hideOnClick:true,showDelay:500,hideDelay:200,autoHide:true,autoDismiss:true,autoDismissDelay:5000,animate:false};}();
