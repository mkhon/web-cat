<html><head><title>ColorPalette.js</title><link rel="stylesheet" type="text/css" href="../resources/style.css" media="screen"/></head><body><h1>ColorPalette.js</h1><pre class="highlighted"><code>Ext.ColorPalette = <b>function</b>(config){
    Ext.ColorPalette.superclass.constructor.call(<b>this</b>, config);
    <b>this</b>.addEvents({
        select: true
    });

    <b>if</b>(this.handler){
        <b>this</b>.on(&quot;select&quot;, <b>this</b>.handler, <b>this</b>.scope, true);
    }
};
Ext.extend(Ext.ColorPalette, Ext.Component, {
    itemCls : &quot;x-color-palette&quot;,
    value : null,
    ctype: &quot;Ext.ColorPalette&quot;,

    colors : [
        &quot;000000&quot;, &quot;993300&quot;, &quot;333300&quot;, &quot;003300&quot;, &quot;003366&quot;, &quot;000080&quot;, &quot;333399&quot;, &quot;333333&quot;,
        &quot;800000&quot;, &quot;FF6600&quot;, &quot;808000&quot;, &quot;008000&quot;, &quot;008080&quot;, &quot;0000FF&quot;, &quot;666699&quot;, &quot;808080&quot;,
        &quot;FF0000&quot;, &quot;FF9900&quot;, &quot;99CC00&quot;, &quot;339966&quot;, &quot;33CCCC&quot;, &quot;3366FF&quot;, &quot;800080&quot;, &quot;969696&quot;,
        &quot;FF00FF&quot;, &quot;FFCC00&quot;, &quot;FFFF00&quot;, &quot;00FF00&quot;, &quot;00FFFF&quot;, &quot;00CCFF&quot;, &quot;993366&quot;, &quot;C0C0C0&quot;,
        &quot;FF99CC&quot;, &quot;FFCC99&quot;, &quot;FFFF99&quot;, &quot;CCFFCC&quot;, &quot;CCFFFF&quot;, &quot;99CCFF&quot;, &quot;CC99FF&quot;, &quot;FFFFFF&quot;
    ],

    onRender : <b>function</b>(container){
        <b>var</b> t = <b>new</b> Ext.MasterTemplate(
            '&lt;tpl&gt;&lt;a href=&quot;#&quot; class=&quot;color-{0}&quot; hidefocus=&quot;on&quot;&gt;&lt;em&gt;&lt;span style=&quot;background:#{0}&quot;&gt;&amp;#160;&lt;/span&gt;&lt;/em&gt;&lt;/a&gt;&lt;/tpl&gt;'
        );
        <b>var</b> c = <b>this</b>.colors;
        <b>for</b>(var i = 0, len = c.length; i &lt; len; i++){
            t.add([c[i]]);
        }
        <b>var</b> el = document.createElement(&quot;div&quot;);
        el.className = <b>this</b>.itemCls;
        t.overwrite(el);
        container.dom.appendChild(el);
        <b>this</b>.el = Ext.get(el);
        <b>this</b>.el.on(&quot;click&quot;, <b>this</b>.handleClick,  <b>this</b>, {delegate: &quot;a&quot;});
    },

    afterRender : <b>function</b>(){
        <b>if</b>(this.value){
            <b>var</b> s = <b>this</b>.value;
            <b>this</b>.value = null;
            <b>this</b>.select(s);
        }
    },

    handleClick : <b>function</b>(e, t){
        e.preventDefault();
        <b>if</b>(!<b>this</b>.disabled){
            <b>var</b> c = t.className.match(/(?:^|\s)color-(.{6})(?:\s|$)/)[1];
            <b>this</b>.select(c.toUpperCase());
        }
    },

    select : <b>function</b>(color){
        color = color.replace(&quot;#&quot;, &quot;&quot;);
        <b>if</b>(color != <b>this</b>.value){
            <b>var</b> el = <b>this</b>.el;
            <b>if</b>(this.value){
                el.child(&quot;a.color-&quot;+<b>this</b>.value).removeClass(&quot;x-color-palette-sel&quot;);
            }
            el.child(&quot;a.color-&quot;+color).addClass(&quot;x-color-palette-sel&quot;);
            <b>this</b>.value = color;
            <b>this</b>.fireEvent(&quot;select&quot;, <b>this</b>, color);
        }
    }
});</code></pre><hr><div style="font-size:10px;text-align:center;color:gray;">yui-ext - Copyright &copy; 2006 Jack Slocum.  |
    Yahoo! UI - Copyright &copy; 2006 Yahoo! Inc.<br />All rights reserved.</div>
    </body></html>