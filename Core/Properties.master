# ===================================================================
# Core subsystem characteristics
# ===================================================================
subsystem.Core

Core.version.major=2
Core.version.minor=1
Core.version.revision=1

Core.copyright=(c) 2006-2010 Virginia Tech Department of Computer Science
Core.provider=Virginia Tech Computer Science
Core.provider.url=http\://web-cat.org/updates
Core.info.url=http\://web-cat.org/WCWiki/CoreSubsystem
Core.history.url=http\://web-cat.org/WCWiki/CoreSubsystem/ChangeHistory
Core.license=GNU Affero General Public License v.3
Core.license.url=http\://www.gnu.org/licenses/agpl.html
Core.requires=\
	ExternalJars, WebObjectsUpdater, WonderUpdater, \
	DBUpdateEngine, EOJDBCPrototypes

Core.description=\
    This is the principal subsystem for Web-CAT, and provides all the \
    capabilities necessary for loading and operating all other subsystems.  \
    It also provides authentication services, and common UI elements used \
    system-wide.


# -------------------------------------------------------------------
# Core subsystem configuration property defaults
# -------------------------------------------------------------------
# see config.plist for docs on each property

Core.archive.handler.list=(\
    org.webcat.archives.internal.ZipArchiveHandler,   \
    org.webcat.archives.internal.TarGzArchiveHandler, \
    org.webcat.archives.internal.TarArchiveHandler)
help.baseURL = http://web-cat.org/Web-CAT.help/


# -------------------------------------------------------------------
# Run-time control
# -------------------------------------------------------------------
# forcibly die 24 hours after starting up (no refusal period)
# ERTimeToLive = 86700
# Or, start refusing new sessions 24 hours after starting up
# ERTimeToDie = 86400
# Forcibly die 180 seconds after starting to refuse new sessions
ERTimeToKill = 180


# -------------------------------------------------------------------
# Configure WebObjects settings
# -------------------------------------------------------------------
WODefaultUndoStackLimit           = 0
WOSessionTimeOut                  = 1800
WOAllowsConcurrentRequestHandling = true


# -------------------------------------------------------------------
# Configure ERExtensions settings
# -------------------------------------------------------------------
dbConnectDriverGLOBAL = com.mysql.jdbc.Driver
er.extensions.appserver.ERXApplication.useEditingContextUnlocker = true
er.extensions.eof.ERXEC.defaultAutomaticLockUnlock = true
er.extensions.eof.ERXEC.defaultCoalesceAutoLocks = true
er.extensions.ERXResourceManager.versionManager = \
    org.webcat.core.WCResourceManager$WCVersionManager
ognl.active          = true
ognl.helperFunctions = true
ognl.inlineBindings  = true
er.extensions.logging.ERXNSLogLog4jBridge.ignoreNSLogSettings = true
er.ajax.json.backtrackCacheSize = 100
WOPageCacheSize      = 50


# -------------------------------------------------------------------
# Core logging defaults
# -------------------------------------------------------------------
log4j.logger.org.webcat.core.Application          = INFO
log4j.logger.org.webcat.core.install              = INFO
log4j.logger.org.webcat.core.Theme                = INFO

# This entry ensures that one must specifically request that this be
# turned on separately from turning on generic Application class logging,
# since this dumps high volumes of info that is only desirable in special
# circumstances.
log4j.logger.org.webcat.core.Application.requests = WARN

# These duplicate settings in the main app properties file, but are
# placed here for the near term to avoid an update of the main app bundle
# for a while.
ognl.active          = true
ognl.helperFunctions = true
ognl.inlineBindings  = true
er.extensions.ERXNSLogLog4jBridge.ignoreNSLogSettings = true
log4j.logger.NSLog = WARN

# Force these into the next Core update, although they duplicate settings
# in the web-cat subsystem:
er.extensions.ERXApplication.useEditingContextUnlocker=true
er.extensions.ERXEC.defaultAutomaticLockUnlock = true
er.extensions.ERXEC.defaultCoalesceAutoLocks=true
er.extensions.ERXApplication.DefaultEncoding=UTF-8
